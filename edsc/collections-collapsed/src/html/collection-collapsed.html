<li data-bind="with: collection,
               click: $component.page.ui.collectionsList.focusCollection,
               css: {'ccol-selectable': collection.has_granules}
               attr: {draggable: $component.isProject}"
    class="ccol">
  <div class="ccol-header">
    <span class="ccol-active"></span>
    <span class="ccol-badge badge-collection"></span>
    <span class="ccol-title">
      <a href="#" class="button icon-button" title="More details" data-bind="attr:{id: id}">
        <i class="fa fa-chevron-circle-right"></i>
      </a>
      <span data-bind="text: short_name"></span> - <span data-bind="text: version_id"></span>
    </span>
  </div>
  <div class="ccol-mini-map"></div>
  <!-- ko if: $component.isProject -->
    <div class="ccol-drag-handle"></div>
  <!-- /ko -->
  <div class="ccol-actions-container">
    <div class="ccol-actions">
      <!-- ko if: has_granules -->
        <a href="#" class="button icon-button" title="View collection" data-bind="visible: !visible(), click: $component.page.collections.toggleVisibleCollection">
          <i class="fa fa-eye"></i>
        </a>
        <a href="#" class="button icon-button button-active" title="Hide collection" data-bind="visible: visible(), click: $component.page.collections.toggleVisibleCollection">
          <i class="fa fa-eye"></i>
        </a>
      <!-- /ko -->
      <a href="#" class="button icon-button add-to-project flyout-tooltip-button"
         data-pulse="#project-count"
         data-flyout="add-to-project-flyout"
         class="button icon-button add-to-project"
         data-bind="visible: !$component.page.project.hasCollection($data),
                    click: $component.page.ui.projectList.toggleCollection,
                    event: {mouseover: $component.showFlyout, mouseout: $component.hideFlyout}">
        <i class="fa fa-plus-circle"></i>
      </a>
      <a href="#" class="button icon-button button-active"
         data-pulse="#project-count"
         title="Remove collection from the current project"
         data-bind="visible: $component.page.project.hasCollection($data),
                    click: $component.page.ui.projectList.toggleCollection">
        <i class="fa fa-minus-circle"></i>
      </a>
      <a href="#" class="button icon-button ccol-details-button"
         data-master-overlay-forward="Collections"
         data-flyout="collection-details-flyout"
         data-bind="click: $component.toggleFlyout"
         title="View collection details">
        <i class="fa fa-info-circle"></i>
      </a>
      <!-- ko if: $component.isProject -->
        <a href="#" class="button icon-button" title="Retrieve data" data-bind="click: $component.page.ui.projectList.loginAndDownloadCollection">
          <i class="fa fa-download"></i>
        </a>
      <!-- /ko -->
      <!-- ko if: !$component.isProject && $component.page.ui.collectionsList.canQueryCollectionSpatial($data) -->
        <a href="#" class="button icon-button" title="Search using this collection's location"
           data-bind="css: {'button-active': $component.page.query.spatial() == spatial_constraint()}, click: $component.page.ui.collectionsList.toggleQueryCollectionSpatial">
          <i class="fa fa-map-marker"></i>
        </a>
      <!-- /ko -->
    </div>
  </div>
</li>
